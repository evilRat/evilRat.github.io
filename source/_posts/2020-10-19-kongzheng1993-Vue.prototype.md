---
title: Vue.prototype
excerpt: 'vue'
tags: [vue]
categories: [vue]
comments: true
date: 2020-10-19 00:30:52
---


今天要在页面上加入双击复制的功能，一共18个页面，都要加上这个功能，所以我想抽出来这个复制到剪贴板到方法，放到公共js里。

```js
dblClick: function (value) {
    const oInput = document.createElement('textarea')
    oInput.value = value
    oInput.select()
    document.execCommand('copy')
    this.$message({message: '已复制', type: 'success'})
}
```

但是当我抽取这个方法到公共js后，this会报错，因为这里到this已经不是之前页面到vue对象了，所以要修改成下面到样子：

```js
    $$.dblClick = function (value) {
        const oInput = document.createElement('textarea')
        oInput.value = value
        oInput.select()
        document.execCommand('copy')
        Vue.prototype.$message({message: '已复制', type: 'success'})
    }
```

使用Vue.prototype调用全局到`$message`方法。