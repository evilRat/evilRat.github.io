---
title: 避免浏览器缓存的技巧
excerpt: 'Web'
tags: [Web]
categories: [Web]
comments: true
date: 2020-12-18 10:30:52
---

今天在做一个需求，需要做一个可复用的页面，最后准备用iframe来做。三下五除二，一个页面做完了。没什么难度，就是接受一个参数，跳转过来后调用接口，然后展示数据。
照常在created方法里接收参数，然后调用接口，将返回数据赋值给data相关变量。

自测的时候，发现页面只加载一次，每次都是第一次加载时的数据。

静下心来思考，created只运行一次，页面也会缓存，所以才导致数据都是一样的。

翻翻项目里其他的页面跳转，发现跳转页面的url后面都加了一个时间戳。学着加上，发现确实可以每次都重新加载了。

难道这是什么默认的规范吗？url后如果有timestamp参数，浏览器会比对之前的时间戳，如果不一致就重新加载？

尝试将参数名timestamp修改为t，依然可以每次重新加载。说明不是浏览器在检查请求url的参数列表。

将url中的时间戳参数修改为`t=Math.random()`，依然可以每次都重新加载。

<strong>恍然大悟，其实是浏览器每次请求的url都不一样了，每次都认为是要请求一个新的资源，所以每次都去请求！</strong>

前端的知识点太匮乏了，需要多学习啊～