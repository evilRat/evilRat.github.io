---
title: 最近的一些感悟
excerpt: '杂谈'
tags: [杂谈]
categories: [杂谈]
comments: true
date: 2021-06-06 13:30:10
---

### 发生什么事了

最近很忙，手忙脚乱，顾得了东就顾不了西，感觉身体被掏空，但是产出却很少。

周五--2021年6月4日，炸了。准确说应该是6月3号晚上。

那天晚上，我们要上线一个项目，有很多SQL脚本需要提交，这个项目主要的东西是我负责做的，所以我主动去提交sql申请。我们的数据库管理平台提交sql的时候，要求要把对同一个表的操作合并到一条sql，也就是这个表，你既要增加字段，又要修改字段，还要新建索引，需要合并成`alter table xxx add column xxx, modify column xxx, add index xxx;`，这时候，我一个粗心，把主表的唯一索引加到了子表中……

很多人可能说，没事的，子表的数据本来就是重复的，你根本就加不上。神奇的是，我加上了。因为我们的数据库管理平台，在修改一个大表的时候，会创建临时表，然后根据原有的ddl和新增的ddl，创建一个最终符合要求的表（也就是加上唯一索引后的表），最后将临时表的数据insert回来。有了唯一索引，重复的数据肯定是回不了啊……但是我们并不知道这里面有这个逻辑。最后业务功能收到影响，我们找了一个多小时，才发现数据少了，咨询dba才知道公司的数据库管理平台有这个逻辑。后面就是近一个小时的恢复数据。晚上12点，系统恢复正常。

**我很抱歉，因为一个粗心大意，让两个同事陪我熬到这么晚，如果没有这个事情，上线可以很顺利的。**

第二天6月4日，组长就数据库管理平台的这个情况，写了一篇文章，解释了数据库平台ddl执行的逻辑。我知道这么做是对的，很多人都不知道提交ddl后是这么执行的，让大家都了解这个逻辑，对很多人都有帮助，以后一旦有人也出现这样的问题，第一时间就能去找临时表恢复数据。

文章分享出来后，领导很生气：“这种事儿，为啥能误操作，都想啥呢？还能不能干！”。每一个字，每一个标点符号，都让我无地自容。我也想问自己，当时在想什么！

### 关于这件事情的思考

晚上八点，我修复了前一天上线后业务人员提出的一些小问题，回家。

回家路上，静下来思考这件事情。是我的错，是因为我的粗心。不止一次的想，如果我当时仔细检查一下，如果不出这个差错，一切该多么美好！

我不禁对自己产生了怀疑，我到底适不适合做程序员，我怎么会这么粗心！

我不禁对自己的职业产生了怀疑，压力好大，每一秒钟都要绷紧神经，谨慎敲出每一行代码，小心自己每一个操作。

我不禁对人生产生了怀疑，我的人生，每个工作日都要忙到深夜回家，周末也要抽出一天来工作，这到底有没有意义！

带着各种想法，回到了家。打开一听可乐，拨通了儿时最好的朋友的电话，我想找个人聊聊，必须找个人聊聊，不然真的会疯掉！

我把事情的来龙去脉和最近的压力，一股脑全都抛出来。他安慰我说，我也算是因为一个错误，了解到了一个很多人都不知道的问题，这样也算是帮很多人趟出了一个坑。他说不至于怀疑自己、怀疑人生。他跟我讲他最近的生活，前段时间孩子总发烧，隔三岔五去医院，很多次，他照顾孩子一晚上，一大早照常上班，该是他的工作，也不会因为家里有事而变少。他也怀疑过自己是不是入错行了，但是仔细想想，现在自己干的工作，就是自己最擅长的事情！要相信自己！

他还跟我说了一个想法，说以前每次遇到一个问题，感觉自己完蛋了，这辈子都完了，但是过一段时间，发现这件事又算什么，甚至自己都想不起来是什么事情了。我回想一下，上次有这种感觉，好像是高二上课被老师抓到玩手机了……

**人生没有过不去的坎，除非你一蹶不振了！**

出问题了怎么办？积极一点吧！积极承担自己的责任，积极总结，积极改正，然后积极的继续奋斗！

最后，我很庆幸，我有这么一个好朋友，也幸好我打给他，如果是一个不够强大的人，或许只会和我一起抱怨……

---

也不知道为什么要写下来，感觉很矫情，就当是个总结吧。不管今后如何，我一定积极一点，认真生活，做一个成熟的人！